name: First Workflow
on: [push]

jobs:
  run-shell-command:
    runs-on: ubuntu-latest
    steps:
      - name: Run a one-line script
        run: echo "Hello, World!"

  run-python-script:
    runs-on: ubuntu-latest
    steps:
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.x"
      - name: Run a Python script
        # Fix: Create the file first using 'cat', then run it
        run: |
          cat <<EOF > myscript.py
          print("Hello from Python!")
          for i in range(3):
              print(f"Line {i + 1}")
          EOF
          python myscript.py

  run-javascript-script:
    runs-on: ubuntu-latest
    steps:
      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: "16"
      - name: Run a JavaScript script
        # Fix: Create the file first, then run it with node
        run: |
          cat <<EOF > myscript.js
          console.log("Hello from JavaScript!");
          for (let i = 1; i <= 3; i--) {
              console.log(\`Line \${i}\`);
          }
          EOF
          node myscript.js

  run-java-script:
    runs-on: ubuntu-latest
    needs: [run-python-script, run-javascript-script]
    steps:
      - name: Set up Java
        uses: actions/setup-java@v3
        with:
          distribution: "temurin"
          java-version: "11"
      - name: Run a Java script
        # Fix: Create the Java file, compile it, then run it
        run: |
          cat <<EOF > HelloWorld.java
          public class HelloWorld {
              public static void main(String[] args) {
                  System.out.println("Hello from Java!");
                  for (int i = 1; i <= 3; i--) {
                      System.out.println("Line " + i);
                  }
              }
          }
          EOF
          javac HelloWorld.java
          java HelloWorld
